import React, { useState, useMemo } from "react"; import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"; import { Button } from "@/components/ui/button"; import { Input } from "@/components/ui/input"; import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select"; import { motion } from "framer-motion"; import { Droplets, Leaf, MapPin, Calculator } from "lucide-react";

/**

=============================================================

ENTERPRISE IRRIGATION PLANNING PLATFORM (Single‚Äëfile demo)

Focus: Agronomists ‚Äì Based on Embrapa technical references

=============================================================

‚úî Multi‚Äëcrop database (families)

‚úî Climatic coefficient model (FAO/Embrapa inspired)

‚úî Material budget estimator

‚úî Technical report generator (separate page)

‚úî Planting layout blueprint

‚úî Ready for API integration (weather/soil)

‚úî Scalable architecture */


// ============================================================= // üå± CROP DATABASE (Embrapa‚Äëaligned reference ranges) // =============================================================

const CROPS = { hortali√ßas: { label: "Hortali√ßas", items: { Alface: { kc: 0.95, rootDepth: 0.25, spacing: "0.30 x 0.30 m" }, Tomate: { kc: 1.15, rootDepth: 0.6, spacing: "1.0 x 0.5 m" }, Cenoura: { kc: 1.0, rootDepth: 0.3, spacing: "0.30 x 0.10 m" }, Cebola: { kc: 0.85, rootDepth: 0.3, spacing: "0.30 x 0.10 m" }, Batata: { kc: 1.1, rootDepth: 0.5, spacing: "0.80 x 0.30 m" }, Pepino: { kc: 1.0, rootDepth: 0.4, spacing: "1.0 x 0.5 m" }, Piment√£o: { kc: 1.05, rootDepth: 0.5, spacing: "1.0 x 0.5 m" }, Couve: { kc: 1.05, rootDepth: 0.4, spacing: "0.80 x 0.50 m" }, Beterraba: { kc: 1.0, rootDepth: 0.3, spacing: "0.30 x 0.10 m" }, R√∫cula: { kc: 0.9, rootDepth: 0.2, spacing: "0.25 x 0.10 m" }, }, }, frut√≠feras: { label: "Frut√≠feras", items: { Laranja: { kc: 0.75, rootDepth: 1.2, spacing: "7 x 4 m" }, Lim√£o: { kc: 0.75, rootDepth: 1.2, spacing: "7 x 4 m" }, Manga: { kc: 0.8, rootDepth: 1.5, spacing: "10 x 10 m" }, Goiaba: { kc: 0.8, rootDepth: 1.0, spacing: "6 x 4 m" }, Mam√£o: { kc: 1.0, rootDepth: 0.8, spacing: "3 x 2 m" }, Banana: { kc: 1.2, rootDepth: 0.6, spacing: "3 x 2.5 m" }, Morango: { kc: 0.9, rootDepth: 0.25, spacing: "0.30 x 0.30 m" }, Melancia: { kc: 1.05, rootDepth: 0.6, spacing: "2 x 2 m" }, Mel√£o: { kc: 1.05, rootDepth: 0.6, spacing: "2 x 2 m" }, Abacaxi: { kc: 0.9, rootDepth: 0.5, spacing: "0.90 x 0.40 m" }, }, }, graos: { label: "Gr√£os e Cereais", items: { Milho: { kc: 1.2, rootDepth: 0.8, spacing: "0.90 x 0.20 m" }, Soja: { kc: 1.15, rootDepth: 0.7, spacing: "0.45 m entre linhas" }, Arroz: { kc: 1.2, rootDepth: 0.3, spacing: "Sistema irrigado" }, Trigo: { kc: 1.05, rootDepth: 0.6, spacing: "0.20 m entre linhas" }, Feij√£o: { kc: 1.1, rootDepth: 0.6, spacing: "0.50 x 0.20 m" }, }, }, };

// ============================================================= // üî¨ ENGINEERING CALCULATIONS // =============================================================

function calculateETc(eto, kc) { return eto * kc; // mm/day }

function estimateWaterVolume(areaHa, etc) { return areaHa * 10000 * etc; // liters/day }

function estimateMaterials(areaHa) { const areaM2 = areaHa * 10000; return { tubos: Math.round(areaM2 / 120), gotejadores: Math.round(areaM2 / 2), bombaCv: (areaHa * 0.8).toFixed(1), reservatorio: Math.round(areaM2 * 5), }; }

// ============================================================= // üìä MAIN APP // =============================================================

export default function App() { const [page, setPage] = useState("home"); const [family, setFamily] = useState("hortali√ßas"); const [crop, setCrop] = useState("Alface"); const [area, setArea] = useState(1); const [eto, setEto] = useState(5); const [city, setCity] = useState("");

const cropData = useMemo(() => CROPS[family].items[crop], [family, crop]);

const etc = calculateETc(eto, cropData.kc); const water = estimateWaterVolume(area, etc); const materials = estimateMaterials(area);

if (page === "report") { return ( <div className="min-h-screen bg-white p-10"> <div className="max-w-4xl mx-auto space-y-6"> <h1 className="text-3xl font-bold">Relat√≥rio T√©cnico de Irriga√ß√£o</h1>

<Card>
        <CardHeader>
          <CardTitle>Dados do Projeto</CardTitle>
        </CardHeader>
        <CardContent className="space-y-2">
          <p><b>Cultura:</b> {crop}</p>
          <p><b>Fam√≠lia:</b> {CROPS[family].label}</p>
          <p><b>√Årea:</b> {area} ha</p>
          <p><b>Local:</b> {city || "N√£o informado"}</p>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>Dimensionamento H√≠drico</CardTitle>
        </CardHeader>
        <CardContent className="space-y-2">
          <p><b>Kc adotado:</b> {cropData.kc}</p>
          <p><b>ETc estimada:</b> {etc.toFixed(2)} mm/dia</p>
          <p><b>Volume di√°rio:</b> {water.toLocaleString()} L/dia</p>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>Materiais Estimados</CardTitle>
        </CardHeader>
        <CardContent className="space-y-2">
          <p>Tubos laterais: {materials.tubos}</p>
          <p>Gotejadores: {materials.gotejadores}</p>
          <p>Bomba recomendada: {materials.bombaCv} CV</p>
          <p>Reservat√≥rio: {materials.reservatorio} L</p>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle>Planta Recomendada</CardTitle>
        </CardHeader>
        <CardContent>
          <p>
            Espa√ßamento sugerido: <b>{cropData.spacing}</b>
          </p>
          <p className="text-sm text-muted-foreground mt-2">
            Layout baseado em recomenda√ß√µes t√©cnicas para maximizar
            uniformidade de aplica√ß√£o e efici√™ncia de uso da √°gua.
          </p>
        </CardContent>
      </Card>

      <Button onClick={() => setPage("home")}>‚Üê Voltar</Button>
    </div>
  </div>
);

}

// ============================================================= // üè† HOME PAGE // =============================================================

return ( <div className="min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6"> <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="max-w-6xl mx-auto space-y-6" > <header className="flex items-center gap-3"> <Droplets className="w-8 h-8" /> <h1 className="text-3xl font-bold"> Plataforma Profissional de Irriga√ß√£o </h1> </header>

<Card>
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <Leaf className="w-5 h-5" />
          Par√¢metros Agron√¥micos (Base Embrapa)
        </CardTitle>
      </CardHeader>
      <CardContent className="grid md:grid-cols-2 gap-4">
        <div>
          <label>Fam√≠lia</label>
          <Select value={family} onValueChange={setFamily}>
            <SelectTrigger>
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              {Object.entries(CROPS).map(([key, f]) => (
                <SelectItem key={key} value={key}>
                  {f.label}
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>

        <div>
          <label>Cultura</label>
          <Select value={crop} onValueChange={setCrop}>
            <SelectTrigger>
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              {Object.keys(CROPS[family].items).map((c) => (
                <SelectItem key={c} value={c}>
                  {c}
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>

        <div>
          <label>√Årea (ha)</label>
          <Input
            type="number"
            value={area}
            onChange={(e) => setArea(Number(e.target.value))}
          />
        </div>

        <div>
          <label>ETo (mm/dia)</label>
          <Input
            type="number"
            value={eto}
            onChange={(e) => setEto(Number(e.target.value))}
          />
        </div>

        <div className="md:col-span-2">
          <label className="flex items-center gap-2">
            <MapPin className="w-4 h-4" /> Cidade/Regi√£o
          </label>
          <Input value={city} onChange={(e) => setCity(e.target.value)} />
        </div>
      </CardContent>
    </Card>

    <Card>
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <Calculator className="w-5 h-5" />
          Resultados R√°pidos
        </CardTitle>
      </CardHeader>
      <CardContent className="grid md:grid-cols-3 gap-4">
        <div className="p-4 rounded-2xl bg-white shadow">
          <p className="text-sm">ETc</p>
          <p className="text-2xl font-bold">{etc.toFixed(2)} mm/dia</p>
        </div>
        <div className="p-4 rounded-2xl bg-white shadow">
          <p className="text-sm">Volume di√°rio</p>
          <p className="text-2xl font-bold">
            {water.toLocaleString()} L
          </p>
        </div>
        <div className="p-4 rounded-2xl bg-white shadow">
          <p className="text-sm">Bomba</p>
          <p className="text-2xl font-bold">{materials.bombaCv} CV</p>
        </div>
      </CardContent>
    </Card>

    <div className="flex justify-end">
      <Button size="lg" onClick={() => setPage("report")}> 
        Gerar relat√≥rio t√©cnico
      </Button>
    </div>
  </motion.div>
</div>

); }