<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AgroCalc Pro - Question√°rio T√©cnico</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{font-family:Arial, sans-serif;background:#f4f7f6;margin:0;}
header{background:#145a32;color:white;padding:20px;text-align:center;}
.container{max-width:950px;margin:25px auto;background:white;padding:25px;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.1);}
h3{background:#eef7f2;padding:10px;border-left:5px solid #145a32;}
input,select,textarea,button{width:100%;padding:10px;margin:6px 0;border-radius:6px;border:1px solid #ccc;}
button{background:#145a32;color:white;font-weight:bold;cursor:pointer;}
button:hover{background:#0e3d22;}
.hidden{display:none;}
.resultado{margin-top:20px;padding:20px;background:#eef7f2;border-left:6px solid #145a32;}
.badge{background:#27ae60;padding:5px 10px;border-radius:20px;font-size:12px;}
.topbar{display:flex;justify-content:space-between;align-items:center;}
</style>
</head>

<body>

<header>
<h1>AgroCalc Pro</h1>
<p>Question√°rio T√©cnico para Dimensionamento de Irriga√ß√£o</p>
</header>

<!-- LOGIN -->
<div class="container" id="loginBox">
<h2>Acesso ao Sistema</h2>
<input type="text" id="usuario" placeholder="Usu√°rio">
<input type="password" id="senha" placeholder="Senha">
<button onclick="login()">Entrar</button>
<p><strong>Modo demonstra√ß√£o:</strong> usu√°rio: admin | senha: 1234</p>
</div>

<!-- APP -->
<div class="container hidden" id="appBox">

<div class="topbar">
<h2>Question√°rio T√©cnico</h2>
<span class="badge">Vers√£o Profissional</span>
</div>

<h3>üë§ Identifica√ß√£o do Produtor</h3>
<input id="produtor" placeholder="Nome do produtor">
<input id="localizacao" placeholder="Localiza√ß√£o da propriedade">

<h3>üå¶Ô∏è Caracter√≠sticas da Regi√£o</h3>
<input id="clima" placeholder="Caracter√≠sticas clim√°ticas">
<input id="solo" placeholder="Tipo e classifica√ß√£o do solo">
<textarea id="analiseSolo" placeholder="An√°lise qu√≠mica e f√≠sica do solo"></textarea>

<h3>üå± Cultura</h3>
<select id="cultura">
<option>Alface</option>
<option>Tomate</option>
<option>Cenoura</option>
<option>Cebola</option>
<option>Batata</option>
<option>Pepino</option>
<option>Piment√£o</option>
<option>Couve</option>
<option>Beterraba</option>
<option>R√∫cula</option>
<option>Laranja</option>
<option>Lim√£o</option>
<option>Manga</option>
<option>Goiaba</option>
<option>Mam√£o</option>
<option>Banana</option>
<option>Morango</option>
<option>Melancia</option>
<option>Mel√£o</option>
<option>Abacaxi</option>
<option>Milho</option>
<option>Soja</option>
<option>Arroz irrigado</option>
<option>Trigo</option>
<option>Feij√£o</option>
</select>

<input id="estagio" placeholder="Est√°gio fenol√≥gico">
<input type="number" id="area" placeholder="√Årea total irrigada (ha)">
<input type="number" id="espPlanta" placeholder="Espa√ßamento entre plantas (m)">
<input type="number" id="espFileira" placeholder="Espa√ßamento entre fileiras (m)">
<input type="number" id="numPlantas" placeholder="N√∫mero total de plantas">

<h3>‚õ∞Ô∏è Terreno</h3>
<input id="topografia" placeholder="Topografia do terreno">

<h3>üíß √Ågua</h3>
<input id="fonteAgua" placeholder="Fonte de √°gua">
<input id="qualidadeAgua" placeholder="Qualidade da √°gua">
<input type="number" id="vazaoFonte" placeholder="Vaz√£o dispon√≠vel (m¬≥/h)">
<input type="number" id="distanciaFonte" placeholder="Dist√¢ncia da fonte (m)">
<input type="number" id="desnivel" placeholder="Desn√≠vel (mca)">

<h3>üöø Sistema</h3>
<select id="sistema">
<option>Gotejamento</option>
<option>Microaspers√£o</option>
<option>Aspers√£o convencional</option>
<option>Piv√¥ central</option>
</select>

<input id="eficiencia" placeholder="Efici√™ncia esperada (%)">
<input id="energia" placeholder="Disponibilidade de energia">
<input id="tipoEnergia" placeholder="Tipo de energia">
<input id="potencia" placeholder="Pot√™ncia instalada">
<input id="orcamento" placeholder="Or√ßamento dispon√≠vel">
<input id="maoObra" placeholder="M√£o de obra dispon√≠vel">
<input id="frequencia" placeholder="Frequ√™ncia de irriga√ß√£o">
<textarea id="historicoProd" placeholder="Hist√≥rico de produtividade"></textarea>
<textarea id="problemas" placeholder="Hist√≥rico de problemas h√≠dricos"></textarea>
<input id="sistemaAtual" placeholder="Sistema atual (se houver)">
<select id="automacao">
<option>N√£o</option>
<option>Sim</option>
</select>
<input id="expansao" placeholder="Plano de expans√£o da √°rea">

<button onclick="gerarRelatorio()">Gerar Relat√≥rio T√©cnico</button>
<button onclick="gerarPDF()">Gerar PDF</button>

<div class="resultado hidden" id="resultado"></div>
</div>

<script>
function login(){
const u=document.getElementById('usuario').value;
const s=document.getElementById('senha').value;
if(u==='admin' && s==='1234'){
document.getElementById('loginBox').classList.add('hidden');
document.getElementById('appBox').classList.remove('hidden');
}else{
alert('Usu√°rio ou senha incorretos');
}
}

let relatorioTexto="";

function gerarRelatorio(){

relatorioTexto=
`RELAT√ìRIO T√âCNICO - AGROCALC PRO

Produtor: ${produtor.value}
Localiza√ß√£o: ${localizacao.value}

Cultura: ${cultura.value}
Est√°gio: ${estagio.value}
√Årea: ${area.value} ha

Fonte de √°gua: ${fonteAgua.value}
Vaz√£o dispon√≠vel: ${vazaoFonte.value} m¬≥/h
Desn√≠vel: ${desnivel.value} mca

Sistema escolhido: ${sistema.value}
Efici√™ncia esperada: ${eficiencia.value}

Observa√ß√£o t√©cnica:
Recomenda-se valida√ß√£o hidr√°ulica completa antes da implanta√ß√£o do sistema.`;

document.getElementById('resultado').classList.remove('hidden');
document.getElementById('resultado').innerHTML=relatorioTexto.replace(/\n/g,'<br>');
}

async function gerarPDF(){
if(!relatorioTexto){alert('Gere o relat√≥rio primeiro');return;}
const {jsPDF}=window.jspdf;
const doc=new jsPDF();
doc.text(relatorioTexto,10,10);
doc.save('Relatorio_AgroCalc_Pro.pdf');
}
</script>

</body>
</html>